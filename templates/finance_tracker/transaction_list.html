<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>家計簿</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body class="container py-4">
  <h1 class="mb-4">家計簿</h1>

  <table class="table table-bordered table-striped">
    <thead>
      <tr>
        <th>日付</th>
        <th>カテゴリ</th>
        <th>詳細</th>
        <th>入金額</th>
        <th>出金額</th>
        <th>残高</th>
      </tr>
    </thead>
    <tbody>
      {% for t in transactions %}
        <tr>
          <td>{{ t.date|date:"Y年m月d日" }}</td>
          <td>
            {% if t.category %}
                {{ t.category.name }}
            {% else %}
                -
            {% endif %}
</td>

          <td>{{ t.description }}</td>
          <td class="text-end">{% if t.type == 'income' %}{{ t.amount|floatformat:"-0" }}{% else %}-{% endif %}</td>
          <td class="text-end">{% if t.type == 'expense' %}{{ t.amount|floatformat:"-0" }}{% else %}-{% endif %}</td>
          <td class="text-end">{{ t.balance|floatformat:"-0" }}</td>
        </tr>
      {% empty %}
        <tr><td colspan="6" class="text-center">データがありません</td></tr>
      {% endfor %}
    </tbody>
  </table>
</body>
</html>
